var e,r,t,o={};e=o,r=function(){for(var e=new Array(256),r=0;r<256;++r)e[r]="%"+((r<16?"0":"")+r.toString(16)).toUpperCase();return e}(),t=Object.prototype.hasOwnProperty,e.arrayToObject=function(e,r){for(var t=r.plainObjects?Object.create(null):{},o=0;o<e.length;++o)void 0!==e[o]&&(t[o]=e[o]);return t},e.merge=function(r,o,n){if(!o)return r;if("object"!=typeof o){if(Array.isArray(r))r.push(o);else{if("object"!=typeof r)return[r,o];(n.plainObjects||n.allowPrototypes||!t.call(Object.prototype,o))&&(r[o]=!0)}return r}if("object"!=typeof r)return[r].concat(o);var i=r;return Array.isArray(r)&&!Array.isArray(o)&&(i=e.arrayToObject(r,n)),Object.keys(o).reduce((function(r,i){var a=o[i];return t.call(r,i)?r[i]=e.merge(r[i],a,n):r[i]=a,r}),i)},e.decode=function(e){try{return decodeURIComponent(e.replace(/\+/g," "))}catch(r){return e}},e.encode=function(e){if(0===e.length)return e;for(var t="string"==typeof e?e:String(e),o="",n=0;n<t.length;++n){var i=t.charCodeAt(n);45===i||46===i||95===i||126===i||i>=48&&i<=57||i>=65&&i<=90||i>=97&&i<=122?o+=t.charAt(n):i<128?o+=r[i]:i<2048?o+=r[192|i>>6]+r[128|63&i]:i<55296||i>=57344?o+=r[224|i>>12]+r[128|i>>6&63]+r[128|63&i]:(n+=1,i=65536+((1023&i)<<10|1023&t.charCodeAt(n)),o+=r[240|i>>18]+r[128|i>>12&63]+r[128|i>>6&63]+r[128|63&i])}return o},e.compact=function(r,t){if("object"!=typeof r||null===r)return r;var o=t||[],n=o.indexOf(r);if(-1!==n)return o[n];if(o.push(r),Array.isArray(r)){for(var i=[],a=0;a<r.length;++a)r[a]&&"object"==typeof r[a]?i.push(e.compact(r[a],o)):void 0!==r[a]&&i.push(r[a]);return i}for(var l=Object.keys(r),c=0;c<l.length;++c){var s=l[c];r[s]=e.compact(r[s],o)}return r},e.isRegExp=function(e){return"[object RegExp]"===Object.prototype.toString.call(e)},e.isBuffer=function(e){return null!=e&&!!(e.constructor&&e.constructor.isBuffer&&e.constructor.isBuffer(e))};var n=o,i={brackets:function(e){return e+"[]"},indices:function(e,r){return e+"["+r+"]"},repeat:function(e){return e}},a={delimiter:"&",strictNullHandling:!1,skipNulls:!1,encode:!0,encoder:n.encode},l=function e(r,t,o,i,a,l,c,s,u){var f=r;if("function"==typeof c)f=c(t,f);else if(f instanceof Date)f=f.toISOString();else if(null===f){if(i)return l?l(t):t;f=""}if("string"==typeof f||"number"==typeof f||"boolean"==typeof f||n.isBuffer(f))return l?[l(t)+"="+l(f)]:[t+"="+String(f)];var p,d=[];if(void 0===f)return d;if(Array.isArray(c))p=c;else{var y=Object.keys(f);p=s?y.sort(s):y}for(var b=0;b<p.length;++b){var m=p[b];a&&null===f[m]||(d=Array.isArray(f)?d.concat(e(f[m],o(t,m),o,i,a,l,c,s,u)):d.concat(e(f[m],t+(u?"."+m:"["+m+"]"),o,i,a,l,c,s,u)))}return d},c=o,s=Object.prototype.hasOwnProperty,u={delimiter:"&",depth:5,arrayLimit:20,parameterLimit:1e3,strictNullHandling:!1,plainObjects:!1,allowPrototypes:!1,allowDots:!1,decoder:c.decode},f=function e(r,t,o){if(!r.length)return t;var n,i=r.shift();if("[]"===i)n=(n=[]).concat(e(r,t,o));else{n=o.plainObjects?Object.create(null):{};var a="["===i.charAt(0)&&"]"===i.charAt(i.length-1)?i.slice(1,-1):i,l=parseInt(a,10);!isNaN(l)&&i!==a&&String(l)===a&&l>=0&&o.parseArrays&&l<=o.arrayLimit?(n=[])[l]=e(r,t,o):n[a]=e(r,t,o)}return n},p=function(e,r,t){if(e){var o=t.allowDots?e.replace(/\.([^.[]+)/g,"[$1]"):e,n=/(\[[^[\]]*])/g,i=/(\[[^[\]]*])/.exec(o),a=i?o.slice(0,i.index):o,l=[];if(a){if(!t.plainObjects&&s.call(Object.prototype,a)&&!t.allowPrototypes)return;l.push(a)}for(var c=0;null!==(i=n.exec(o))&&c<t.depth;){if(c+=1,!t.plainObjects&&s.call(Object.prototype,i[1].slice(1,-1))&&!t.allowPrototypes)return;l.push(i[1])}return i&&l.push("["+o.slice(i.index)+"]"),f(l,r,t)}},d={stringify:function(e,r){var t,o,n=e,c=r||{},s=void 0===c.delimiter?a.delimiter:c.delimiter,u="boolean"==typeof c.strictNullHandling?c.strictNullHandling:a.strictNullHandling,f="boolean"==typeof c.skipNulls?c.skipNulls:a.skipNulls,p=("boolean"==typeof c.encode?c.encode:a.encode)?"function"==typeof c.encoder?c.encoder:a.encoder:null,d="function"==typeof c.sort?c.sort:null,y=void 0!==c.allowDots&&c.allowDots;if(null!==c.encoder&&void 0!==c.encoder&&"function"!=typeof c.encoder)throw new TypeError("Encoder has to be a function.");"function"==typeof c.filter?n=(o=c.filter)("",n):Array.isArray(c.filter)&&(t=o=c.filter);var b,m=[];if("object"!=typeof n||null===n)return"";b=c.arrayFormat in i?c.arrayFormat:"indices"in c?c.indices?"indices":"repeat":"indices";var g=i[b];t||(t=Object.keys(n)),d&&t.sort(d);for(var v=0;v<t.length;++v){var h=t[v];f&&null===n[h]||(m=m.concat(l(n[h],h,g,u,f,p,o,d,y)))}return m.join(s)},parse:function(e,r){var t=r||{};if(null!==t.decoder&&void 0!==t.decoder&&"function"!=typeof t.decoder)throw new TypeError("Decoder has to be a function.");if(t.delimiter="string"==typeof t.delimiter||c.isRegExp(t.delimiter)?t.delimiter:u.delimiter,t.depth="number"==typeof t.depth?t.depth:u.depth,t.arrayLimit="number"==typeof t.arrayLimit?t.arrayLimit:u.arrayLimit,t.parseArrays=!1!==t.parseArrays,t.decoder="function"==typeof t.decoder?t.decoder:u.decoder,t.allowDots="boolean"==typeof t.allowDots?t.allowDots:u.allowDots,t.plainObjects="boolean"==typeof t.plainObjects?t.plainObjects:u.plainObjects,t.allowPrototypes="boolean"==typeof t.allowPrototypes?t.allowPrototypes:u.allowPrototypes,t.parameterLimit="number"==typeof t.parameterLimit?t.parameterLimit:u.parameterLimit,t.strictNullHandling="boolean"==typeof t.strictNullHandling?t.strictNullHandling:u.strictNullHandling,""===e||null==e)return t.plainObjects?Object.create(null):{};for(var o="string"==typeof e?function(e,r){for(var t={},o=e.split(r.delimiter,r.parameterLimit===1/0?void 0:r.parameterLimit),n=0;n<o.length;++n){var i,a,l=o[n],c=-1===l.indexOf("]=")?l.indexOf("="):l.indexOf("]=")+1;-1===c?(i=r.decoder(l),a=r.strictNullHandling?null:""):(i=r.decoder(l.slice(0,c)),a=r.decoder(l.slice(c+1))),s.call(t,i)?t[i]=[].concat(t[i]).concat(a):t[i]=a}return t}(e,t):e,n=t.plainObjects?Object.create(null):{},i=Object.keys(o),a=0;a<i.length;++a){var l=i[a],f=p(l,o[l],t);n=c.merge(n,f,t)}return c.compact(n)}};export{d as C};
