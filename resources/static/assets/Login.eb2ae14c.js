import{d as e,D as a,C as l,u as s,E as o,r,o as t,e as n,f as u,g as i,w as d,F as p,k as m,c,a8 as g,p as b,i as f,h as v}from"./vendor.12f57d03.js";import{$ as y}from"./jquery.5edb227f.js";const _={setup(){const r=e(),t=a({username:"",password:""}),n=l(null);function u(e){return e.key}return s().commit("clearTags"),{options:[{key:"admin",value:"后台管理",label:"后台管理"},{key:"checker",value:"审核员",label:"审核员"},{key:"dataer",value:"录入员",label:"录入员"},{key:"student",value:"学生",label:"学生"}],param:t,rules:{options:[{required:!0,message:"登录人员不能为空",trigger:["blur","change"]}],username:[{required:!0,message:"请输入用户名",trigger:"blur"}],password:[{required:!0,message:"请输入密码",trigger:"blur"}]},login:n,submitForm:()=>{n.value.validate((e=>{e?y.ajax({type:"POST",url:"/"+u(t.options)+"/login",async:!1,data:{aUsername:t.username,aPassword:t.password},dataType:"text",success:function(e){null!=e&&""!==e?(o.success("登录成功"),localStorage.setItem("ms_key",u(t.options)),localStorage.setItem("ms_username",t.username),localStorage.setItem("ms_identity",t.options.value),localStorage.setItem("ms_realName",e),r.push("/")):(o.error("登录失败，密码或用户名有误"),r.push("/"))}}).responseText:o.error("登录失败，请填写完毕")}))}}}},h=e=>(b("data-v-34d2bdb2"),e=e(),f(),e),k={class:"login-wrap"},w={class:"ms-login"},V=h((()=>u("div",{class:"ms-title"},"操行分管理系统",-1))),x={class:"login-btn"},I=v("登录"),S=h((()=>u("p",{class:"login-tips"},"Tips : 注意区分大小o(*￣▽￣*)ブ",-1))),T={id:"app"},j=h((()=>u("div",{style:{position:"fixed","text-align":"center",bottom:"0",margin:"0 auto",width:"100%",color:"#5c6b77"}},[u("a",{target:"_blank",style:{color:"#5c6b00"},href:"https://beian.miit.gov.cn"},"鄂ICP备2021020259号-1"),v("  ")],-1)));_.render=function(e,a,l,s,o,b){const f=r("el-button"),v=r("el-option"),y=r("el-select"),_=r("el-form-item"),h=r("el-input"),q=r("el-form"),F=r("router-view");return t(),n(p,null,[u("div",k,[u("div",w,[V,i(q,{model:s.param,rules:s.rules,ref:"login","label-width":"0px",class:"ms-content"},{default:d((()=>[i(_,{prop:"options"},{default:d((()=>[i(f,{icon:"el-icon-house"}),i(y,{modelValue:s.param.options,"onUpdate:modelValue":a[0]||(a[0]=e=>s.param.options=e),placeholder:"登录身份"},{default:d((()=>[(t(!0),n(p,null,m(s.options,(e=>(t(),c(v,{key:e.key,label:e.label,value:e},null,8,["label","value"])))),128))])),_:1},8,["modelValue"])])),_:1}),i(_,{prop:"username"},{default:d((()=>[i(h,{modelValue:s.param.username,"onUpdate:modelValue":a[1]||(a[1]=e=>s.param.username=e),placeholder:"账户ID"},{prepend:d((()=>[i(f,{icon:"el-icon-user"})])),_:1},8,["modelValue"])])),_:1}),i(_,{prop:"password"},{default:d((()=>[i(h,{type:"password",placeholder:"密码",modelValue:s.param.password,"onUpdate:modelValue":a[2]||(a[2]=e=>s.param.password=e),onKeyup:a[3]||(a[3]=g((e=>s.submitForm()),["enter"]))},{prepend:d((()=>[i(f,{icon:"el-icon-lock"})])),_:1},8,["modelValue"])])),_:1}),u("div",x,[i(f,{type:"primary",onClick:a[4]||(a[4]=e=>s.submitForm())},{default:d((()=>[I])),_:1})]),S])),_:1},8,["model","rules"])])]),u("div",T,[i(F),j])],64)},_.__scopeId="data-v-34d2bdb2";export default _;
